<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sihan Eric Wang ¬∑ Personal Portfolio</title>
<meta name="description" content="Activities ¬∑ Honors ¬∑ Gallery" />
<meta name="color-scheme" content="dark light" />
<style>
  /* =====================
     Design system
     ===================== */
  :root{
    --bg:#0b1020; --bg-2:#0e1429;
    --card:#10172b; --card-2:#0f172a;
    --text:#e5e7eb; --muted:#9aa4b2;
    --line:#1f2a44;
    --brand:#7c9cff; --brand-2:#91f2ff;
    --radius:16px;
    --shadow:0 10px 30px rgba(0,0,0,.35);
    --elev-2:0 18px 40px rgba(0,0,0,.45);
    --dur:.18s; --ease:cubic-bezier(.2,.6,.2,1);
  }
  @media (prefers-color-scheme: light){
    :root{
      --bg:#f6f7fb; --bg-2:#ffffff;
      --card:#ffffff; --card-2:#f9fafb;
      --text:#0f172a; --muted:#5b6473;
      --line:#e5e7eb;
      --brand:#3758f9; --brand-2:#00bcd4;
      --shadow:0 10px 24px rgba(0,0,0,.06);
      --elev-2:0 18px 40px rgba(0,0,0,.12);
    }
  }
  @media (prefers-reduced-motion: reduce){
    *{animation:none!important; transition:none!important; scroll-behavior:auto!important}
  }

  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0; color:var(--text);
    font-family: ui-sans-serif, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC","Hiragino Sans GB","Microsoft YaHei", sans-serif;
    background:
      radial-gradient(1000px 600px at 10% -10%, rgba(124,156,255,.15), transparent 70%),
      radial-gradient(1000px 600px at 90% -10%, rgba(145,242,255,.12), transparent 70%),
      linear-gradient(180deg, var(--bg), var(--bg-2));
  }

  /* Unified typography scale */
  h1{font-size:32px; line-height:1.25; margin:8px 0 10px; letter-spacing:.2px;}
  h2{font-size:24px; line-height:1.35; margin:0 0 12px;}
  h3{font-size:18px; line-height:1.35; margin:0 0 8px;}
  p, li{font-size:16px; line-height:1.7; margin:0 0 10px;}
  small, .muted{font-size:14px; color:var(--muted);}
  .eyebrow{font-size:12px; letter-spacing:.6px; text-transform:uppercase; color:var(--muted);}
  a{color:var(--brand); text-decoration:none}
  a:hover{text-decoration:underline}
  .container{max-width:1120px; margin:0 auto; padding:0 20px}

  /* Focus visibility */
  :focus-visible{outline:2px solid color-mix(in srgb, var(--brand) 60%, #fff); outline-offset:2px; border-radius:8px}

  /* Top navigation */
  .nav{
    position:sticky; top:0; z-index:50; border-bottom:1px solid var(--line);
    backdrop-filter:saturate(140%) blur(8px);
    background:color-mix(in oklab, var(--bg-2) 80%, transparent);
  }
  .nav-inner{display:flex; align-items:center; justify-content:space-between; height:68px}
  .brand{display:flex; align-items:center; gap:10px; font-weight:700}
  .logo{
    width:24px; height:24px; border-radius:8px;
    background: conic-gradient(from 180deg at 50% 50%, var(--brand), var(--brand-2), var(--brand) );
    box-shadow:0 0 0 4px color-mix(in srgb, var(--brand) 10%, transparent);
  }
  .nav ul{display:flex; gap:16px; list-style:none; margin:0; padding:0}
  .chip{
    display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
    border:1px solid var(--line);
    background:color-mix(in oklab, var(--card) 90%, transparent)
  }

  /* Hero */
  .hero{padding:54px 0 24px}
  .grid{display:grid; gap:24px}
  @media (min-width:960px){ .grid-2{ grid-template-columns: 1.1fr .9fr } }

  .avatar{
    width:100%; max-width:280px; height:auto; object-fit:contain; border:none; border-radius:0; box-shadow:none; background:transparent; display:block;
  }
  .hero-media{display:flex; justify-content:center; align-items:flex-end;}
  @media (min-width:960px){ .hero-media{align-self:end;} }

  .btn{
    display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:12px; border:1px solid var(--line);
    background:linear-gradient(180deg, color-mix(in oklab, var(--brand) 12%, var(--card)), var(--card));
    color:var(--text); transition:transform var(--dur) var(--ease), box-shadow var(--dur) var(--ease);
  }
  .btn.primary{
    background:linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff; border-color:transparent;
    box-shadow:0 10px 24px color-mix(in srgb, var(--brand) 40%, transparent)
  }
  .btn:hover{transform:translateY(-1px)}

  /* Section */
  .section{padding:32px 0}
  .section-head{display:flex; align-items:end; justify-content:space-between; gap:16px; margin-bottom:14px}
  .desc{color:var(--muted);}

  /* Cards */
  .card{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow)}
  .card-plain{background:var(--card-2); border:1px solid var(--line); border-radius:var(--radius); padding:16px}
  .card-body{padding:16px}
  .cover{width:100%; height:160px; object-fit:cover; display:block; border-bottom:1px solid var(--line)}

  /* Activities list */
  .activities{
    display:grid; grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));
    gap:18px; margin-top:14px
  }
  .tags{display:flex; flex-wrap:wrap; gap:8px; margin-top:8px}
  .tag{
    display:inline-flex; align-items:center; padding:6px 10px; font-size:12px; border-radius:999px;
    border:1px solid var(--line); background:color-mix(in srgb, var(--brand) 6%, var(--card)); color:var(--text)
  }

  /* Interactive cards */
  .activities .card, .honors .card{
    cursor:pointer; position:relative;
    transition:transform var(--dur) var(--ease), box-shadow var(--dur) var(--ease), border-color var(--dur) var(--ease);
  }
  .activities .card::after, .honors .card::after{
    content:""; position:absolute; inset:0; border-radius:var(--radius); border:1px solid transparent; pointer-events:none; transition:border-color var(--dur) var(--ease);
  }
  .activities .card:hover, .honors .card:hover{
    transform:translateY(-4px) scale(1.01); box-shadow:var(--elev-2);
    border-color:color-mix(in srgb, var(--brand) 40%, var(--line));
  }
  .activities .card.is-active::after, .honors .card.is-active::after{border-color:color-mix(in srgb, var(--brand-2) 70%, transparent);}

  /* Timeline (kept for potential reuse) */
  .timeline{position:relative; padding-left:22px}
  .timeline::before{content:""; position:absolute; left:9px; top:0; bottom:0; width:2px; background:linear-gradient(var(--line), transparent)}
  .tl{position:relative; padding-left:18px; margin:18px 0}
  .tl::before{content:""; position:absolute; left:-2px; top:.45rem; width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg, var(--brand), var(--brand-2)); box-shadow:0 0 0 3px color-mix(in srgb, var(--brand) 30%, transparent)}

  /* Footer */
  footer{border-top:1px solid var(--line); padding:24px 0}

  /* End note */
  .end-note{ text-align:center; padding:28px 20px; display:flex; flex-direction:column; align-items:center; gap:10px;}
  .end-pill{
    display:inline-flex; align-items:center; justify-content:center; padding:6px 14px; border-radius:999px; border:1px solid var(--line);
    background:color-mix(in oklab, var(--card) 80%, transparent); font-size:12px; letter-spacing:.12em; text-transform:uppercase; color:var(--muted);
  }

  /* Activity modal */
  .activity-modal-backdrop{
    position:fixed; inset:0; background:rgba(5,10,25,.75);
    display:none; align-items:center; justify-content:center; padding:20px; z-index:60;
  }
  .activity-modal-backdrop.open{display:flex}
  .activity-modal{
    width: min(960px, 90vw); max-height: min(80vh, 760px);
    background:var(--card-2); border-radius:20px; border:1px solid var(--line);
    box-shadow:0 30px 80px rgba(0,0,0,.85); padding:22px 22px 20px; position:relative; overflow:auto;
  }
  .activity-modal-close{
    position:absolute; top:12px; right:14px; border:none; background:transparent; color:var(--muted); font-size:20px; cursor:pointer;
  }
  .activity-modal-close:hover{color:var(--text)}
  .activity-modal-grid{display:grid; gap:20px}
  @media (min-width:900px){ .activity-modal-grid{grid-template-columns: 1.3fr 1fr;} }
  .activity-modal-text h2{margin:4px 0 8px}
  .activity-modal-text p{margin-top:4px}

  .activity-modal-gallery h3{margin:0 0 10px}
  .activity-modal-thumbs{
    display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap:8px;
  }
  .activity-modal-thumbs img{
    width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:12px; border:1px solid var(--line); cursor:pointer;
    transition:transform var(--dur) var(--ease), box-shadow var(--dur) var(--ease), border-color var(--dur) var(--ease);
  }
  .activity-modal-thumbs img:hover{
    transform:translateY(-2px) scale(1.02);
    border-color:color-mix(in srgb, var(--brand) 40%, var(--line));
    box-shadow:0 10px 30px rgba(0,0,0,.6);
  }

  /* Lightbox */
  .lightbox{position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; padding:20px; z-index:70;}
  .lightbox.open{display:flex}
  .lightbox-inner{max-width:980px; width:100%}
  .lightbox-inner img{width:100%; border-radius:14px}
  .close{position:absolute; top:14px; right:18px; color:#fff; font-size:22px; cursor:pointer}

  /* ---------- Honors as compact cards + modal ---------- */
  .honors{display:grid; grid-template-columns: 1fr; gap:18px;}
  @media (min-width:700px){ .honors{grid-template-columns: repeat(2, minmax(0, 1fr));} }
  @media (min-width:1100px){ .honors{grid-template-columns: repeat(3, minmax(0, 1fr));} }

  .honors .card-body{padding:12px 14px} /* Êõ¥Á¥ßÂáë */
  .honors .card-body h3{
    margin:0; padding-left:18px; position:relative; line-height:1.3;
  }
  .honors .card-body .honor-meta{margin:6px 0 0}
  .honors .card-body > *:last-child{margin-bottom:0}

  /* Ê†áÈ¢òÂâçÁöÑÂΩ©Ëâ≤Â∞èÂúÜÁÇπÔºàÂìÅÁâåÊ∏êÂèòÔºâ */
  .honors .card-body h3::before{
    content:""; position:absolute; left:0; top:.55em; width:10px; height:10px; border-radius:50%;
    background: conic-gradient(from 180deg at 50% 50%, var(--brand), var(--brand-2), var(--brand));
    box-shadow:0 0 0 3px color-mix(in srgb, var(--brand) 18%, transparent);
  }

  /* Honor modal */
  .honor-modal-backdrop{
    position:fixed; inset:0; background:rgba(5,10,25,.75);
    display:none; align-items:center; justify-content:center; padding:20px; z-index:65;
  }
  .honor-modal-backdrop.open{display:flex}
  .honor-modal{
    width:min(66vw, 1000px); max-height:min(84vh, 860px);
    background:var(--card-2); border:1px solid var(--line); border-radius:20px;
    box-shadow:0 30px 80px rgba(0,0,0,.85); padding:20px 20px 16px; position:relative; overflow:auto;
  }
  .honor-modal-close{position:absolute; top:10px; right:12px; border:none; background:transparent; color:var(--muted); font-size:20px; cursor:pointer;}
  .honor-modal-close:hover{color:var(--text)}
  .honor-modal-title{margin:6px 6px 14px 6px}
  .honor-modal-images{display:flex; flex-direction:column; gap:12px;}
  .honor-modal-images img{
    width:100%; height:auto; display:block; border-radius:14px; border:1px solid var(--line);
    box-shadow:0 10px 26px rgba(0,0,0,.45);
  }
  .section-hint{margin-left:auto; white-space:nowrap;}
</style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav" role="navigation" aria-label="Primary">
    <div class="container nav-inner">
      <div class="brand"><span class="logo" aria-hidden="true"></span> Sihan Eric Wang ¬∑ Personal Portfolio</div>
      <ul>
        <li><a class="chip" href="#about">About Me</a></li>
        <li><a class="chip" href="#activities">Activities</a></li>
        <li><a class="chip" href="#honors">Honors</a></li>
        <li><a class="chip" href="#basic-info">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero container grid grid-2" id="top">
    <div>
      <div class="eyebrow">Shenzhen, China</div>
      <h1>Sihan Eric Wang</h1>
      <p class="desc">Student ¬∑ Researcher ¬∑ Inventor ¬∑ Ethnographic Enthusiast</p>
      <p>I am endlessly curious about technology, engineering, and culture, and I love growing through real-world projects. This page curates my activities, competition honors, and photographic highlights.</p>
      <p style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px">
        <a class="btn primary" href="#activities">See my activities ‚Üí</a>
        <a class="btn" href="#basic-info">Contact</a>
      </p>
    </div>
    <div class="hero-media">
      <!-- Use a transparent PNG for best results -->
      <img class="avatar" src="images/photo.png" alt="Portrait of Sihan Eric Wang" loading="eager" decoding="async" fetchpriority="high">
    </div>
  </section>

  <!-- About Me -->
  <section class="section container" id="about">
    <div class="section-head">
      <h2>About Me</h2>
      <span class="eyebrow">Profile</span>
    </div>
    <div class="grid" style="grid-template-columns:2fr 1fr">
      <article class="card">
        <div class="card-body">
          <h3>Academic Background & Interests</h3>
          <p class="desc">BASIS International School Park Lane Harbour ¬∑ Class of 2026</p>
          <p>I am a student from Shenzhen, China, passionate about human development, culture, and technology. My research focuses on language diversity, rural education, and the cultural impact of innovation. I aspire to become an ethnographic engineer ‚Äî someone who designs technology that preserves and empowers cultural identity.</p>
          <div class="tags" aria-label="Skills tags">
            <span class="tag">Research</span><span class="tag">Innovation</span><span class="tag">Ethnography</span>
            <span class="tag">Python</span><span class="tag">Data Analysis</span><span class="tag">Human Development</span>
          </div>
        </div>
      </article>
      <aside class="card-plain" id="basic-info" aria-labelledby="basic-info-h">
        <h3 id="basic-info-h">Basic Information</h3>
        <p>üìç Shenzhen, China</p>
        <p>‚úâÔ∏è <a href="mailto:sihan.wang70800-biph@basischina.com">sihan.wang70800-biph@basischina.com</a></p>
        <p>üìû +86 13751187879</p>
      </aside>
    </div>
  </section>

  <!-- Activities -->
  <section class="section container" id="activities">
    <div class="section-head" style="gap:10px">
      <h2>Activities</h2>
      <small class="section-hint muted">Tip: click any card to view more</small>
    </div>
    <p class="desc">Key projects and extracurricular experiences that shaped my learning journey.</p>

    <div id="act-list" class="activities">
      <article class="card" role="button" tabindex="0"
               data-images="https://images.unsplash.com/photo-1508615070457-7baeba4003ab?w=1200,https://images.unsplash.com/photo-1512820790803-83ca734da794?w=1200,https://images.unsplash.com/photo-1523966211575-eb4a01e7dd51?w=1200">
        <div class="card-body">
          <h3>Project Leader ‚Äì Conrad Challenge: UAV Guardian System</h3>
          <p class="desc">Dec 2024 ‚Äì Mar 2025</p>
          <p>Led a team developing AI-based UAV management to prevent illegal flights. Coordinated research, design, and testing, achieving National Finalist status.</p>
          <div class="tags"><span class="tag">Leadership</span><span class="tag">Innovation</span><span class="tag">AI</span></div>
        </div>
      </article>

      <article class="card" role="button" tabindex="0"
               data-images="https://images.unsplash.com/photo-1512820790803-83ca734da794?w=1200,https://images.unsplash.com/photo-1518770660439-4636190af475?w=1200,https://images.unsplash.com/photo-1518770660439-4636190af475?w=1200">
        <div class="card-body">
          <h3>Inventor ‚Äì Automated Drone Management Platform (Patent)</h3>
          <p class="desc">Aug 2024 ‚Äì Dec 2024</p>
          <p>Developed contact-based autonomous recharging system; designed 3D motor mounts improving drone stability. Awarded German Utility Model Patent (No. 20 2025 100 651).</p>
          <div class="tags"><span class="tag">Patent</span><span class="tag">Design</span><span class="tag">Engineering</span></div>
        </div>
      </article>

      <article class="card" role="button" tabindex="0"
               data-images="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=1200,https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=1200,https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=1200">
        <div class="card-body">
          <h3>Software Developer ‚Äì Mental Health Self-Assessment Tool</h3>
          <p class="desc">Dec 2023 ‚Äì Mar 2024</p>
          <p>Created an HTML/Java web app helping 200+ students assess and manage emotions. Offered quick analyses and well-being guidance.</p>
          <div class="tags"><span class="tag">Software</span><span class="tag">Psychology</span><span class="tag">Education</span></div>
        </div>
      </article>

      <article class="card" role="button" tabindex="0"
               data-images="https://images.unsplash.com/photo-1521747116042-5a810fda9664?w=1200,https://images.unsplash.com/photo-1553877522-43269d4ea984?w=1200,https://images.unsplash.com/photo-1512428559087-560fa5ceab42?w=1200">
        <div class="card-body">
          <h3>Researcher ‚Äì Linguistic Impact on Rural Education</h3>
          <p class="desc">2024 ‚Äì Ongoing</p>
          <p>First author of a study analyzing 1,000+ surveys using Python and R, exploring how language influences education equality and innovation in minority regions.</p>
          <div class="tags"><span class="tag">Research</span><span class="tag">Data Science</span><span class="tag">Education</span></div>
        </div>
      </article>

      <article class="card" role="button" tabindex="0"
               data-images="https://images.unsplash.com/photo-1515165562835-c4c9e0737eaa?w=1200,https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=1200,https://images.unsplash.com/photo-1453748866136-b1dd97284f49?w=1200">
        <div class="card-body">
          <h3>Founder ‚Äì Ethnic Cultural Society</h3>
        <p class="desc">2023 ‚Äì Present</p>
          <p>Founded a student club promoting Southwest ethnic heritage through charity workshops and vlogs, reaching over 2,000 views.</p>
          <div class="tags"><span class="tag">Culture</span><span class="tag">Leadership</span></div>
        </div>
      </article>

      <article class="card" role="button" tabindex="0"
               data-images="https://images.unsplash.com/photo-1518770660439-4636190af475?w=1200,https://images.unsplash.com/photo-1521747116042-5a810fda9664?w=1200,https://images.unsplash.com/photo-1553877522-43269d4ea984?w=1200">
        <div class="card-body">
          <h3>Intern ‚Äì Shaanxi Zhenyuan Data Cloud Technology Co., Ltd.</h3>
          <p class="desc">Jun 2023 ‚Äì Jul 2023</p>
          <p>Designed mechanical solutions for accessible production. Created a 3D device reducing QR-code misalignment, improving efficiency for disabled workers.</p>
          <div class="tags"><span class="tag">Engineering</span><span class="tag">Internship</span></div>
        </div>
      </article>

      <article class="card" role="button" tabindex="0"
               data-images="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=1200,https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=1200,https://images.unsplash.com/photo-1494797710133-75adf6c1f4a3?w=1200">
        <div class="card-body">
          <h3>Volunteer ‚Äì Hearing-Impaired Elderly Support Project</h3>
          <p class="desc">Nov 2022 ‚Äì Apr 2023</p>
          <p>Raised funds to purchase hearing aids for seniors, inspired by personal family experience with hearing loss.</p>
          <div class="tags"><span class="tag">Volunteer</span><span class="tag">Community</span></div>
        </div>
      </article>

      <article class="card" role="button" tabindex="0"
               data-images="https://images.unsplash.com/photo-1519741497674-611481863552?w=1200,https://images.unsplash.com/photo-1521412644187-c49fa049e84d?w=1200,https://images.unsplash.com/photo-1517649763962-0c623066013b?w=1200">
        <div class="card-body">
          <h3>Varsity Badminton Player</h3>
          <p class="desc">2022 ‚Äì Present</p>
          <p>Gold medalist in singles and doubles; 2024 Tri-School Doubles Champion with 15‚Äì3 record.</p>
          <div class="tags"><span class="tag">Sports</span><span class="tag">Teamwork</span></div>
        </div>
      </article>
    </div>
  </section>

  <!-- Honors (cards + modal) -->
  <section class="section container" id="honors">
    <div class="section-head" style="gap:10px">
      <h2>Honors & Awards</h2>
      <small class="section-hint muted">Tip: click a card to view certificate(s)</small>
    </div>

    <div class="honors" id="honors-list">
      <article class="card" role="button" tabindex="0" data-images="images/certificates/physics-bowl-2025.jpg">
        <div class="card-body">
          <h3>Gold Award ‚Äì Physics Bowl 2025</h3>
          <p class="honor-meta">International</p>
        </div>
      </article>

      <article class="card" role="button" tabindex="0" data-images="images/certificates/geneva-2025-1.jpg,images/certificates/geneva-2025-2.jpg">
        <div class="card-body">
          <h3>Gold Award ‚Äì International Exhibition of Inventions of Geneva 2025</h3>
          <p class="honor-meta">International</p>
        </div>
      </article>

      <article class="card" role="button" tabindex="0" data-images="images/certificates/conrad-finalist.jpg">
        <div class="card-body">
          <h3>National Finalist ‚Äì Conrad Challenge: UAV Guardian System</h3>
          <p class="honor-meta">National</p>
        </div>
      </article>

      <article class="card" role="button" tabindex="0" data-images="images/certificates/germany-utility-model-2025.jpg">
        <div class="card-body">
          <h3>Patent Holder ‚Äì Automated Drone Management Platform</h3>
          <p class="honor-meta">Germany ¬∑ 2025</p>
        </div>
      </article>

      <article class="card" role="button" tabindex="0" data-images="images/certificates/amc12-cod.jpg">
        <div class="card-body">
          <h3>Certificate of Distinction ‚Äì AMC 12</h3>
          <p class="honor-meta">Top 5% Worldwide</p>
        </div>
      </article>

      <article class="card" role="button" tabindex="0" data-images="images/certificates/john-locke-shortlist.jpg">
        <div class="card-body">
          <h3>Shortlisted ‚Äì John Locke Essay Competition (History)</h3>
          <p class="honor-meta">International</p>
        </div>
      </article>

      <article class="card" role="button" tabindex="0" data-images="images/certificates/ivy-cup-hm.jpg">
        <div class="card-body">
          <h3>Honorable Mention ‚Äì Ivy Cup English Debate Tournament</h3>
          <p class="honor-meta">National</p>
        </div>
      </article>
    </div>
  </section>

  <!-- End Note -->
  <section class="section container" id="end">
    <div class="card-plain end-note">
      <div class="end-pill">End of page</div>
      <h2>Thank you for exploring my journey</h2>
      <p class="desc">
        I appreciate your time and patience in viewing my portfolio.
        If any of my projects or experiences resonate with you, I‚Äôd be glad to continue the conversation‚Äî
        you can always reach me through the contact details in the ‚ÄúBasic Information‚Äù section above.
      </p>
    </div>
  </section>

  <footer>
    <div class="container"><small>¬© <span id="y"></span> Sihan Eric Wang ¬∑ personal website.</small></div>
  </footer>

  <!-- Activity Detail Modal -->
  <div class="activity-modal-backdrop" id="activityModal" role="dialog" aria-modal="true" aria-labelledby="activityModalTitle">
    <div class="activity-modal">
      <button class="activity-modal-close" id="activityModalClose" aria-label="Close activity details">‚úï</button>
      <div class="activity-modal-grid">
        <div class="activity-modal-text">
          <div class="eyebrow" id="activityModalMeta"></div>
          <h2 id="activityModalTitle"></h2>
          <p class="desc" id="activityModalBody"></p>
        </div>
        <div class="activity-modal-gallery">
          <h3>Gallery</h3>
          <div class="activity-modal-thumbs" id="activityModalThumbs"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-inner">
      <button class="close" id="lbClose" aria-label="Close image preview">‚úï</button>
      <img id="lbImg" src="" alt="Expanded preview" loading="lazy" decoding="async">
    </div>
  </div>

  <!-- Honor Certificates Modal -->
  <div class="honor-modal-backdrop" id="honorModal" role="dialog" aria-modal="true" aria-labelledby="honorModalTitle">
    <div class="honor-modal">
      <button class="honor-modal-close" id="honorModalClose" aria-label="Close certificate viewer">‚úï</button>
      <h2 id="honorModalTitle" class="honor-modal-title"></h2>
      <div id="honorModalImages" class="honor-modal-images"></div>
    </div>
  </div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js" defer></script>
<script defer>
  // Year
  document.addEventListener('DOMContentLoaded', () => {
    const yearEl = document.getElementById('y');
    if (yearEl) yearEl.textContent = new Date().getFullYear();
  });

  // Utilities
  const qs = (sel, ctx=document) => ctx.querySelector(sel);
  const qsa = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

  // ------------------ Activity modal logic ------------------
  const activityModal = qs('#activityModal');
  const activityModalTitle = qs('#activityModalTitle');
  const activityModalMeta = qs('#activityModalMeta');
  const activityModalBody = qs('#activityModalBody');
  const activityModalThumbs = qs('#activityModalThumbs');
  const activityModalClose = qs('#activityModalClose');
  let activeCard = null;
  let lastFocus = null;

  function buildThumb(src, alt){
    const img = new Image();
    img.src = src; img.alt = alt; img.className = 'modal-thumb';
    img.loading = 'lazy'; img.decoding = 'async';
    return img;
  }

  function openActivityModal(card){
    lastFocus = document.activeElement;

    const title = card.querySelector('h3')?.textContent || '';
    const meta = card.querySelector('p.desc')?.textContent || '';
    const bodyP = Array.from(card.querySelectorAll('p')).find(p => !p.classList.contains('desc'));
    const body = bodyP?.textContent || '';

    activityModalTitle.textContent = title;
    activityModalMeta.textContent = meta;
    activityModalBody.textContent = body;

    // Build gallery thumbnails from data-images
    activityModalThumbs.innerHTML = '';
    const raw = card.dataset.images || '';
    const urls = raw.split(',').map(s => s.trim()).filter(Boolean);
    urls.forEach(url => activityModalThumbs.appendChild(buildThumb(url, title)));

    activityModal.classList.add('open');
    document.body.style.overflow = 'hidden';

    if (activeCard) activeCard.classList.remove('is-active');
    activeCard = card;
    card.classList.add('is-active');

    // focus
    activityModalClose.focus();
  }

  function closeActivityModal(){
    activityModal.classList.remove('open');
    document.body.style.overflow = '';
    if (activeCard) activeCard.classList.remove('is-active');
    activeCard = null;
    if (lastFocus && typeof lastFocus.focus === 'function') lastFocus.focus();
  }

  // Event delegation for activities
  const actList = qs('#act-list');
  actList.addEventListener('click', (e) => {
    const card = e.target.closest('.card');
    if (!card) return;
    openActivityModal(card);
  });
  actList.addEventListener('keydown', (e) => {
    if ((e.key === 'Enter' || e.key === ' ') && e.target.classList.contains('card')) {
      e.preventDefault();
      openActivityModal(e.target);
    }
  });

  activityModalClose.addEventListener('click', closeActivityModal);
  activityModal.addEventListener('click', (e) => { if (e.target === activityModal) closeActivityModal(); });

  // Lightbox for activity thumbnails
  const lb = qs('#lightbox');
  const lbImg = qs('#lbImg');
  const lbClose = qs('#lbClose');

  document.addEventListener('click', (e) => {
    const t = e.target;
    if (t.classList && t.classList.contains('modal-thumb')) {
      lbImg.src = t.src;
      lb.classList.add('open');
    }
  });
  lbClose.addEventListener('click', () => lb.classList.remove('open'));
  lb.addEventListener('click', (e) => { if(e.target === lb) lb.classList.remove('open'); });
  document.addEventListener('keydown', (e)=> {
    if(e.key === 'Escape'){
      lb.classList.remove('open');
      if (activityModal.classList.contains('open')) closeActivityModal();
      if (honorModalBackdrop.classList.contains('open')) closeHonorModal();
    }
  });

  // ------------------ Honors modal (certificates) ------------------
  const honorModalBackdrop = qs('#honorModal');
  const honorModalTitle = qs('#honorModalTitle');
  const honorModalImages = qs('#honorModalImages');
  const honorModalClose = qs('#honorModalClose');
  let activeHonor = null;
  let honorLastFocus = null;

  function openHonorModal(card){
    honorLastFocus = document.activeElement;

    const title = card.querySelector('h3')?.textContent || 'Certificate';
    honorModalTitle.textContent = title;

    honorModalImages.innerHTML = '';
    const raw = (card.dataset.images || '').trim();
    const urls = raw.split(',').map(s => s.trim()).filter(Boolean);

    if(urls.length === 0){
      const p = document.createElement('p');
      p.className = 'desc';
      p.textContent = 'No certificate images attached yet.';
      honorModalImages.appendChild(p);
    }else{
      urls.forEach((url, idx) => {
        const img = new Image();
        img.src = url; img.alt = `${title} (Image ${idx+1})`;
        img.loading = 'lazy'; img.decoding = 'async';
        honorModalImages.appendChild(img);
      });
    }

    honorModalBackdrop.classList.add('open');
    document.body.style.overflow = 'hidden';

    if (activeHonor) activeHonor.classList.remove('is-active');
    activeHonor = card;
    card.classList.add('is-active');

    honorModalClose.focus();
  }

  function closeHonorModal(){
    honorModalBackdrop.classList.remove('open');
    document.body.style.overflow = '';
    if (activeHonor) activeHonor.classList.remove('is-active');
    activeHonor = null;
    if (honorLastFocus && typeof honorLastFocus.focus === 'function') honorLastFocus.focus();
  }

  // Delegation for honor cards
  const honorsList = qs('#honors-list');
  honorsList.addEventListener('click', (e) => {
    const card = e.target.closest('.card');
    if (!card) return;
    openHonorModal(card);
  });
  honorsList.addEventListener('keydown', (e) => {
    if ((e.key === 'Enter' || e.key === ' ') && e.target.classList.contains('card')) {
      e.preventDefault();
      openHonorModal(e.target);
    }
  });
  honorModalClose.addEventListener('click', closeHonorModal);
  honorModalBackdrop.addEventListener('click', (e) => { if(e.target === honorModalBackdrop) closeHonorModal(); });
</script>
</body>
</html>
